import{m as b,n as h,o as k,E as R,H as o,q,v,w as d,x as T,y as E,z as A,A as x,U as D,B as L,C as g,d as B,D as C,S as F}from"./runtime.CnJI7opx.js";function O(a,f,e=!1){h&&k();var i=a,r=null,s=null,c=D,S=e?R:0,l=!1;const I=(n,t=!0)=>{l=!0,u(t,n)},u=(n,t)=>{if(c===(c=n))return;let _=!1;if(h){const N=i.data===o;!!c===N&&(i=q(),v(i),d(!1),_=!0)}c?(r?T(r):t&&(r=E(()=>t(i))),s&&A(s,()=>{s=null})):(s?T(s):t&&(s=E(()=>t(i))),r&&A(r,()=>{r=null})),_&&d(!0)};b(()=>{l=!1,f(I),l||u(null,null)},S),h&&(i=x)}function y(a,f){return a===f||(a==null?void 0:a[F])===f}function U(a={},f,e,i){return L(()=>{var r,s;return g(()=>{r=s,s=[],B(()=>{a!==e(...s)&&(f(a,...s),r&&y(e(...r),a)&&f(null,...r))})}),()=>{C(()=>{s&&y(e(...s),a)&&f(null,...s)})}}),a}export{U as b,O as i};

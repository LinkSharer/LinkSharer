import{j as F,k as I,A as L,E as O,l as Y,B as q,C as v,n as B,s as S,D as N,w as R,F as b,o as C,U as H,G as U,I as j,d as p,J as w,S as G}from"./CbF4Ualv.js";function M(a,t,[r,f]=[0,0]){I&&r===0&&L();var i=a,s=null,l=null,u=H,k=r>0?O:0,n=!1;const D=(T,c=!0)=>{n=!0,A(c,T)},A=(T,c)=>{if(u===(u=T))return;let E=!1;if(I&&f!==-1){if(r===0){const e=i.data;e===Y?f=0:e===q?f=1/0:(f=parseInt(e.substring(1)),f!==f&&(f=u?1/0:-1))}const g=f>r;!!u===g&&(i=v(),B(i),S(!1),E=!0,f=-1)}u?(s?N(s):c&&(s=R(()=>c(i))),l&&b(l,()=>{l=null})):(l?N(l):c&&(l=R(()=>c(i,[r+1,f]))),s&&b(s,()=>{s=null})),E&&S(!0)};F(()=>{n=!1,t(D),n||A(null,null)},k),I&&(i=C)}function h(a,t){return a===t||(a==null?void 0:a[G])===t}function P(a={},t,r,f){return U(()=>{var i,s;return j(()=>{i=s,s=[],p(()=>{a!==r(...s)&&(t(a,...s),i&&h(r(...i),a)&&t(null,...i))})}),()=>{w(()=>{s&&h(r(...s),a)&&t(null,...s)})}}),a}export{P as b,M as i};
